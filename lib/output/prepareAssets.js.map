{"version":3,"sources":["../../src/output/prepareAssets.js"],"names":["Parse","require","prepareAssets","output","book","getBook","pages","getPages","logger","getLogger","listAssets","then","assets","info","ln","size","set","module","exports"],"mappings":";;AAAA,IAAMA,QAAQC,QAAQ,UAAR,CAAd;;AAEA;;;;;;AAMA,SAASC,aAAT,CAAuBC,MAAvB,EAA+B;AAC3B,QAAMC,OAAOD,OAAOE,OAAP,EAAb;AACA,QAAMC,QAAQH,OAAOI,QAAP,EAAd;AACA,QAAMC,SAASL,OAAOM,SAAP,EAAf;;AAEA,WAAOT,MAAMU,UAAN,CAAiBN,IAAjB,EAAuBE,KAAvB,EACNK,IADM,CACD,UAACC,MAAD,EAAY;AACdJ,eAAOK,IAAP,CAAYC,EAAZ,CAAe,OAAf,EAAwBF,OAAOG,IAA/B,EAAqC,aAArC;;AAEA,eAAOZ,OAAOa,GAAP,CAAW,QAAX,EAAqBJ,MAArB,CAAP;AACH,KALM,CAAP;AAMH;;AAEDK,OAAOC,OAAP,GAAiBhB,aAAjB","file":"prepareAssets.js","sourcesContent":["const Parse = require('../parse');\n\n/**\n * List all assets in the book.\n *\n * @param {Output} output\n * @return {Promise<Output>} output\n */\nfunction prepareAssets(output) {\n    const book = output.getBook();\n    const pages = output.getPages();\n    const logger = output.getLogger();\n\n    return Parse.listAssets(book, pages)\n    .then((assets) => {\n        logger.info.ln('found', assets.size, 'asset files');\n\n        return output.set('assets', assets);\n    });\n}\n\nmodule.exports = prepareAssets;\n"]}