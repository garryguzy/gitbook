{"version":3,"sources":["../../../src/output/modifiers/resolveLinks.js"],"names":["LocationUtils","require","editHTMLElement","resolveLinks","resolveURL","$","$a","href","attr","isExternal","module","exports"],"mappings":";;AAAA,IAAMA,gBAAgBC,QAAQ,sBAAR,CAAtB;AACA,IAAMC,kBAAkBD,QAAQ,mBAAR,CAAxB;;AAEA;;;;;;;AAOA,SAASE,YAAT,CAAsBC,UAAtB,EAAkCC,CAAlC,EAAqC;AACjC,WAAOH,gBAAgBG,CAAhB,EAAmB,GAAnB,EAAwB,UAACC,EAAD,EAAQ;AACnC,YAAIC,OAAOD,GAAGE,IAAH,CAAQ,MAAR,CAAX;;AAEA;AACA,YAAI,CAACD,IAAL,EAAW;AACP;AACH;;AAED,YAAIP,cAAcS,UAAd,CAAyBF,IAAzB,CAAJ,EAAoC;AAChCD,eAAGE,IAAH,CAAQ,QAAR,EAAkB,QAAlB;AACA;AACH;;AAEDD,eAAOH,WAAWG,IAAX,CAAP;AACAD,WAAGE,IAAH,CAAQ,MAAR,EAAgBD,IAAhB;AACH,KAfM,CAAP;AAgBH;;AAEDG,OAAOC,OAAP,GAAiBR,YAAjB","file":"resolveLinks.js","sourcesContent":["const LocationUtils = require('../../utils/location');\nconst editHTMLElement = require('./editHTMLElement');\n\n/**\n * Resolve all HTML links:\n * - /test.md in hello -> ../test.html\n *\n * @param {Function(String) -> String} resolveURL\n * @param {HTMLDom} $\n */\nfunction resolveLinks(resolveURL, $) {\n    return editHTMLElement($, 'a', ($a) => {\n        let href = $a.attr('href');\n\n        // Don't change a tag without href\n        if (!href) {\n            return;\n        }\n\n        if (LocationUtils.isExternal(href)) {\n            $a.attr('target', '_blank');\n            return;\n        }\n\n        href = resolveURL(href);\n        $a.attr('href', href);\n    });\n}\n\nmodule.exports = resolveLinks;\n"]}