{"version":3,"sources":["../../../src/output/modifiers/modifyHTML.js"],"names":["cheerio","require","Promise","modifyHTML","page","operations","html","getContent","$","load","forEach","op","then","resultHTML","set","module","exports"],"mappings":";;AAAA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,IAAMC,UAAUD,QAAQ,qBAAR,CAAhB;;AAEA;;;;;;;;AAQA,SAASE,UAAT,CAAoBC,IAApB,EAA0BC,UAA1B,EAAsC;AAClC,QAAMC,OAAOF,KAAKG,UAAL,EAAb;AACA,QAAMC,IAAIR,QAAQS,IAAR,CAAaH,IAAb,CAAV;;AAEA,WAAOJ,QAAQQ,OAAR,CAAgBL,UAAhB,EAA4B,UAACM,EAAD,EAAQ;AACvC,eAAOA,GAAGH,CAAH,CAAP;AACH,KAFM,EAGNI,IAHM,CAGD,YAAM;AACR,YAAMC,aAAaL,EAAEF,IAAF,EAAnB;AACA,eAAOF,KAAKU,GAAL,CAAS,SAAT,EAAoBD,UAApB,CAAP;AACH,KANM,CAAP;AAOH;;AAEDE,OAAOC,OAAP,GAAiBb,UAAjB","file":"modifyHTML.js","sourcesContent":["const cheerio = require('cheerio');\nconst Promise = require('../../utils/promise');\n\n/**\n * Apply a list of operations to a page and\n * output the new page.\n *\n * @param {Page} page\n * @param {List|Array<Transformation>} operations\n * @return {Promise<Page>} page\n */\nfunction modifyHTML(page, operations) {\n    const html = page.getContent();\n    const $ = cheerio.load(html);\n\n    return Promise.forEach(operations, (op) => {\n        return op($);\n    })\n    .then(() => {\n        const resultHTML = $.html();\n        return page.set('content', resultHTML);\n    });\n}\n\nmodule.exports = modifyHTML;\n"]}