{"version":3,"sources":["../../../src/output/ebook/onPage.js"],"names":["WebsiteGenerator","require","Modifiers","onPage","output","page","options","getOptions","modifyHTML","inlineAssets","get","getFile","getPath","then","resultPage","module","exports"],"mappings":";;AAAA,IAAMA,mBAAmBC,QAAQ,YAAR,CAAzB;AACA,IAAMC,YAAYD,QAAQ,cAAR,CAAlB;;AAEA;;;;;;;AAOA,SAASE,MAAT,CAAgBC,MAAhB,EAAwBC,IAAxB,EAA8B;AAC1B,QAAMC,UAAUF,OAAOG,UAAP,EAAhB;;AAEA;AACA,WAAOL,UAAUM,UAAV,CAAqBH,IAArB,EAA2B,CAC9BH,UAAUO,YAAV,CAAuBH,QAAQI,GAAR,CAAY,MAAZ,CAAvB,EAA4CL,KAAKM,OAAL,GAAeC,OAAf,EAA5C,CAD8B,CAA3B;;AAIP;AAJO,KAKNC,IALM,CAKD,UAACC,UAAD,EAAgB;AAClB,eAAOd,iBAAiBG,MAAjB,CAAwBC,MAAxB,EAAgCU,UAAhC,CAAP;AACH,KAPM,CAAP;AAQH;;AAEDC,OAAOC,OAAP,GAAiBb,MAAjB","file":"onPage.js","sourcesContent":["const WebsiteGenerator = require('../website');\nconst Modifiers = require('../modifiers');\n\n/**\n * Write a page for ebook output. It renders it just as the website generator\n * except that it inline assets.\n *\n * @param {Output} output\n * @param {Output} output\n */\nfunction onPage(output, page) {\n    const options = output.getOptions();\n\n    // Inline assets\n    return Modifiers.modifyHTML(page, [\n        Modifiers.inlineAssets(options.get('root'), page.getFile().getPath())\n    ])\n\n    // Write page using website generator\n    .then((resultPage) => {\n        return WebsiteGenerator.onPage(output, resultPage);\n    });\n}\n\nmodule.exports = onPage;\n"]}