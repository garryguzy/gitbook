{"version":3,"sources":["../../src/parse/walkSummary.js"],"names":["Promise","require","walkArticles","articles","fn","forEach","article","then","getArticles","walkSummary","summary","parts","getParts","part","module","exports"],"mappings":";;AAAA,IAAMA,UAAUC,QAAQ,kBAAR,CAAhB;;AAEA;;;;;;;AAOA,SAASC,YAAT,CAAsBC,QAAtB,EAAgCC,EAAhC,EAAoC;AAChC,WAAOJ,QAAQK,OAAR,CAAgBF,QAAhB,EAA0B,UAACG,OAAD,EAAa;AAC1C,eAAON,QAAQI,GAAGE,OAAH,CAAR,EACNC,IADM,CACD,YAAM;AACR,mBAAOL,aAAaI,QAAQE,WAAR,EAAb,EAAoCJ,EAApC,CAAP;AACH,SAHM,CAAP;AAIH,KALM,CAAP;AAMH;;AAED;;;;;;;AAOA,SAASK,WAAT,CAAqBC,OAArB,EAA8BN,EAA9B,EAAkC;AAC9B,QAAMO,QAAQD,QAAQE,QAAR,EAAd;;AAEA,WAAOZ,QAAQK,OAAR,CAAgBM,KAAhB,EAAuB,UAACE,IAAD,EAAU;AACpC,eAAOX,aAAaW,KAAKL,WAAL,EAAb,EAAiCJ,EAAjC,CAAP;AACH,KAFM,CAAP;AAGH;;AAEDU,OAAOC,OAAP,GAAiBN,WAAjB","file":"walkSummary.js","sourcesContent":["const Promise = require('../utils/promise');\n\n/**\n    Walk over a list of articles\n\n    @param {List<Article>} articles\n    @param {Function(article)}\n    @return {Promise}\n*/\nfunction walkArticles(articles, fn) {\n    return Promise.forEach(articles, (article) => {\n        return Promise(fn(article))\n        .then(() => {\n            return walkArticles(article.getArticles(), fn);\n        });\n    });\n}\n\n/**\n    Walk over summary and execute \"fn\" on each article\n\n    @param {Summary} summary\n    @param {Function(article)}\n    @return {Promise}\n*/\nfunction walkSummary(summary, fn) {\n    const parts = summary.getParts();\n\n    return Promise.forEach(parts, (part) => {\n        return walkArticles(part.getArticles(), fn);\n    });\n}\n\nmodule.exports = walkSummary;\n"]}