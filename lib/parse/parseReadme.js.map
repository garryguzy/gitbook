{"version":3,"sources":["../../src/parse/parseReadme.js"],"names":["lookupStructureFile","require","Readme","error","parseReadme","book","logger","then","file","FileNotFoundError","filename","debug","ln","path","set","create","module","exports"],"mappings":";;AAAA,IAAMA,sBAAsBC,QAAQ,uBAAR,CAA5B;AACA,IAAMC,SAASD,QAAQ,kBAAR,CAAf;AACA,IAAME,QAAQF,QAAQ,gBAAR,CAAd;;AAEA;;;;;;AAMA,SAASG,WAAT,CAAqBC,IAArB,EAA2B;AAAA,QACfC,MADe,GACJD,IADI,CACfC,MADe;;;AAGvB,WAAON,oBAAoBK,IAApB,EAA0B,QAA1B,EACNE,IADM,CACD,UAACC,IAAD,EAAU;AACZ,YAAI,CAACA,IAAL,EAAW;AACP,kBAAM,IAAIL,MAAMM,iBAAV,CAA4B,EAAEC,UAAU,QAAZ,EAA5B,CAAN;AACH;;AAEDJ,eAAOK,KAAP,CAAaC,EAAb,sBAAmCJ,KAAKK,IAAxC;;AAEA,eAAOR,KAAKS,GAAL,CAAS,QAAT,EAAmBZ,OAAOa,MAAP,CAAc,EAAEP,UAAF,EAAd,CAAnB,CAAP;AACH,KATM,CAAP;AAUH;;AAEDQ,OAAOC,OAAP,GAAiBb,WAAjB","file":"parseReadme.js","sourcesContent":["const lookupStructureFile = require('./lookupStructureFile');\nconst Readme = require('../models/readme');\nconst error = require('../utils/error');\n\n/**\n * Parse readme from book.\n *\n * @param {Book} book\n * @return {Promise<Book>}\n */\nfunction parseReadme(book) {\n    const { logger } = book;\n\n    return lookupStructureFile(book, 'readme')\n    .then((file) => {\n        if (!file) {\n            throw new error.FileNotFoundError({ filename: 'README' });\n        }\n\n        logger.debug.ln(`readme found at ${file.path}`);\n\n        return book.set('readme', Readme.create({ file }));\n    });\n}\n\nmodule.exports = parseReadme;\n"]}