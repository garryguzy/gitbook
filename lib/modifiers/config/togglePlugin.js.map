{"version":3,"sources":["../../../src/modifiers/config/togglePlugin.js"],"names":["PluginDependency","require","hasPlugin","isDefaultPlugin","togglePlugin","config","pluginName","state","deps","getPluginDependencies","push","create","map","dep","getName","toggle","setPluginDependencies","module","exports"],"mappings":";;AAAA,IAAMA,mBAAmBC,QAAQ,+BAAR,CAAzB;AACA,IAAMC,YAAYD,QAAQ,aAAR,CAAlB;AACA,IAAME,kBAAkBF,QAAQ,mBAAR,CAAxB;;AAEA;;;;;;;AAOA,SAASG,YAAT,CAAsBC,MAAtB,EAA8BC,UAA9B,EAA0CC,KAA1C,EAAiD;AAC7C,QAAIC,OAAOH,OAAOI,qBAAP,EAAX;;AAEA;AACA,QAAIN,gBAAgBG,UAAhB,KAA+B,CAACJ,UAAUM,IAAV,EAAgBF,UAAhB,CAApC,EAAiE;AAC7DE,eAAOA,KAAKE,IAAL,CAAUV,iBAAiBW,MAAjB,CAAwBL,UAAxB,CAAV,CAAP;AACH;;AAEDE,WAAOA,KAAKI,GAAL,CAAS,UAACC,GAAD,EAAS;AACrB,YAAIA,IAAIC,OAAJ,OAAkBR,UAAtB,EAAkC;AAC9B,mBAAOO,IAAIE,MAAJ,CAAWR,KAAX,CAAP;AACH;;AAED,eAAOM,GAAP;AACH,KANM,CAAP;;AAQA,WAAOR,OAAOW,qBAAP,CAA6BR,IAA7B,CAAP;AACH;;AAEDS,OAAOC,OAAP,GAAiBd,YAAjB","file":"togglePlugin.js","sourcesContent":["const PluginDependency = require('../../models/pluginDependency');\nconst hasPlugin = require('./hasPlugin');\nconst isDefaultPlugin = require('./isDefaultPlugin');\n\n/**\n * Enable/disable a plugin dependency\n * @param {Config} config\n * @param {String} pluginName\n * @param {Boolean} state (optional)\n * @return {Config}\n */\nfunction togglePlugin(config, pluginName, state) {\n    let deps = config.getPluginDependencies();\n\n    // For default plugin, we should ensure it's listed first\n    if (isDefaultPlugin(pluginName) && !hasPlugin(deps, pluginName)) {\n        deps = deps.push(PluginDependency.create(pluginName));\n    }\n\n    deps = deps.map((dep) => {\n        if (dep.getName() === pluginName) {\n            return dep.toggle(state);\n        }\n\n        return dep;\n    });\n\n    return config.setPluginDependencies(deps);\n}\n\nmodule.exports = togglePlugin;\n"]}