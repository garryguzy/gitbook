{"version":3,"sources":["../../../src/modifiers/summary/unshiftArticle.js"],"names":["SummaryArticle","require","SummaryPart","indexLevels","unshiftArticle","summary","article","parts","getParts","part","get","articles","getArticles","unshift","set","module","exports"],"mappings":";;AAAA,IAAMA,iBAAiBC,QAAQ,6BAAR,CAAvB;AACA,IAAMC,cAAcD,QAAQ,0BAAR,CAApB;;AAEA,IAAME,cAAcF,QAAQ,eAAR,CAApB;;AAEA;;;;;;;AAOA,SAASG,cAAT,CAAwBC,OAAxB,EAAiCC,OAAjC,EAA0C;AACtCA,cAAU,IAAIN,cAAJ,CAAmBM,OAAnB,CAAV;;AAEA,QAAIC,QAAQF,QAAQG,QAAR,EAAZ;AACA,QAAIC,OAAOF,MAAMG,GAAN,CAAU,CAAV,KAAgB,IAAIR,WAAJ,EAA3B;;AAEA,QAAIS,WAAWF,KAAKG,WAAL,EAAf;AACAD,eAAWA,SAASE,OAAT,CAAiBP,OAAjB,CAAX;AACAG,WAAOA,KAAKK,GAAL,CAAS,UAAT,EAAqBH,QAArB,CAAP;;AAEAJ,YAAQA,MAAMO,GAAN,CAAU,CAAV,EAAaL,IAAb,CAAR;AACAJ,cAAUA,QAAQS,GAAR,CAAY,OAAZ,EAAqBP,KAArB,CAAV;;AAEA,WAAOJ,YAAYE,OAAZ,CAAP;AACH;;AAEDU,OAAOC,OAAP,GAAiBZ,cAAjB","file":"unshiftArticle.js","sourcesContent":["const SummaryArticle = require('../../models/summaryArticle');\nconst SummaryPart = require('../../models/summaryPart');\n\nconst indexLevels = require('./indexLevels');\n\n/**\n * Insert an article at the beginning of summary\n *\n * @param {Summary} summary\n * @param {Article} article\n * @return {Summary}\n */\nfunction unshiftArticle(summary, article) {\n    article = new SummaryArticle(article);\n\n    let parts = summary.getParts();\n    let part = parts.get(0) || new SummaryPart();\n\n    let articles = part.getArticles();\n    articles = articles.unshift(article);\n    part = part.set('articles', articles);\n\n    parts = parts.set(0, part);\n    summary = summary.set('parts', parts);\n\n    return indexLevels(summary);\n}\n\nmodule.exports = unshiftArticle;\n"]}