{"version":3,"sources":["../../src/models/summaryPart.js"],"names":["require","Record","List","SummaryArticle","DEFAULTS","level","String","title","articles","SummaryPart","get","size","def","map","article","i","create","join","module","exports"],"mappings":";;;;;;;;;;eAAyBA,QAAQ,WAAR,C;IAAjBC,M,YAAAA,M;IAAQC,I,YAAAA,I;;AAChB,IAAMC,iBAAiBH,QAAQ,kBAAR,CAAvB;;AAEA,IAAMI,WAAW;AACbC,WAAUC,QADG;AAEbC,WAAUD,QAFG;AAGbE,cAAUN;AAHG,CAAjB;;AAMA;;;;;IAKMO,W;;;;;;;;;;;mCACS;AACP,mBAAO,KAAKC,GAAL,CAAS,OAAT,CAAP;AACH;;;mCAEU;AACP,mBAAO,KAAKA,GAAL,CAAS,OAAT,CAAP;AACH;;;sCAEa;AACV,mBAAO,KAAKA,GAAL,CAAS,UAAT,CAAP;AACH;;AAED;;;;;;;;2CAKmB;AAAA,gBACPL,KADO,GACa,IADb,CACPA,KADO;AAAA,gBACAG,QADA,GACa,IADb,CACAA,QADA;;AAEf,mBAAUH,KAAV,UAAmBG,SAASG,IAAT,GAAgB,CAAnC;AACH;;AAED;;;;;;;;;+BAMcC,G,EAAKP,K,EAAO;AACtB,gBAAMG,WAAW,CAACI,IAAIJ,QAAJ,IAAgB,EAAjB,EAAqBK,GAArB,CAAyB,UAACC,OAAD,EAAUC,CAAV,EAAgB;AACtD,oBAAID,mBAAmBX,cAAvB,EAAuC;AACnC,2BAAOW,OAAP;AACH;AACD,uBAAOX,eAAea,MAAf,CAAsBF,OAAtB,EAA+B,CAACT,KAAD,EAAQU,IAAI,CAAZ,EAAeE,IAAf,CAAoB,GAApB,CAA/B,CAAP;AACH,aALgB,CAAjB;;AAOA,mBAAO,IAAIR,WAAJ,CAAgB;AACnBJ,uBAAOC,OAAOD,KAAP,CADY;AAEnBE,uBAAOK,IAAIL,KAFQ;AAGnBC,0BAAUN,KAAKM,QAAL;AAHS,aAAhB,CAAP;AAKH;;;;EA1CqBP,OAAOG,QAAP,C;;AA6C1Bc,OAAOC,OAAP,GAAiBV,WAAjB","file":"summaryPart.js","sourcesContent":["const { Record, List } = require('immutable');\nconst SummaryArticle = require('./summaryArticle');\n\nconst DEFAULTS = {\n    level:    String(),\n    title:    String(),\n    articles: List()\n};\n\n/**\n * A part represents a section in the Summary / table of Contents.\n * @type {Class}\n */\n\nclass SummaryPart extends Record(DEFAULTS) {\n    getLevel() {\n        return this.get('level');\n    }\n\n    getTitle() {\n        return this.get('title');\n    }\n\n    getArticles() {\n        return this.get('articles');\n    }\n\n    /**\n     * Create a new level for a new child article\n     *\n     * @return {String}\n     */\n    createChildLevel() {\n        const { level, articles } = this;\n        return `${level}.${articles.size + 1}`;\n    }\n\n    /**\n     * Create a SummaryPart\n     *\n     * @param {Object} def\n     * @return {SummaryPart}\n     */\n    static create(def, level) {\n        const articles = (def.articles || []).map((article, i) => {\n            if (article instanceof SummaryArticle) {\n                return article;\n            }\n            return SummaryArticle.create(article, [level, i + 1].join('.'));\n        });\n\n        return new SummaryPart({\n            level: String(level),\n            title: def.title,\n            articles: List(articles)\n        });\n    }\n}\n\nmodule.exports = SummaryPart;\n"]}