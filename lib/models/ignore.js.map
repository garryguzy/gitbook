{"version":3,"sources":["../../src/models/ignore.js"],"names":["require","Record","IgnoreMutable","DEFAULTS","ignore","Ignore","get","filename","getIgnore","filter","length","rule","newIgnore","add","set","module","exports"],"mappings":";;;;;;;;;;eAAmBA,QAAQ,WAAR,C;IAAXC,M,YAAAA,M;;AACR,IAAMC,gBAAgBF,QAAQ,QAAR,CAAtB;;AAEA;;;;AAIA,IAAMG,WAAW;AACbC,YAAQ,IAAIF,aAAJ;AADK,CAAjB;;IAIMG,M;;;;;;;;;;;oCACU;AACR,mBAAO,KAAKC,GAAL,CAAS,QAAT,CAAP;AACH;;AAED;;;;;;;;sCAKcC,Q,EAAU;AACpB,gBAAMH,SAAS,KAAKI,SAAL,EAAf;AACA,mBAAOJ,OAAOK,MAAP,CAAc,CAACF,QAAD,CAAd,EAA0BG,MAA1B,IAAoC,CAA3C;AACH;;AAED;;;;;;;;4BAKIC,I,EAAM;AACN,gBAAMP,SAAS,KAAKI,SAAL,EAAf;AACA,gBAAMI,YAAY,IAAIV,aAAJ,EAAlB;;AAEAU,sBAAUC,GAAV,CAAcT,MAAd;AACAQ,sBAAUC,GAAV,CAAcF,IAAd;;AAEA,mBAAO,KAAKG,GAAL,CAAS,QAAT,EAAmBF,SAAnB,CAAP;AACH;;;;EA5BgBX,OAAOE,QAAP,C;;AA+BrBY,OAAOC,OAAP,GAAiBX,MAAjB","file":"ignore.js","sourcesContent":["const { Record } = require('immutable');\nconst IgnoreMutable = require('ignore');\n\n/*\n    Immutable version of node-ignore\n*/\n\nconst DEFAULTS = {\n    ignore: new IgnoreMutable()\n};\n\nclass Ignore extends Record(DEFAULTS) {\n    getIgnore() {\n        return this.get('ignore');\n    }\n\n    /**\n     * Test if a file is ignored by these rules.\n     * @param {String} filePath\n     * @return {Boolean} isIgnored\n     */\n    isFileIgnored(filename) {\n        const ignore = this.getIgnore();\n        return ignore.filter([filename]).length == 0;\n    }\n\n    /**\n     * Add rules.\n     * @param {String}\n     * @return {Ignore}\n     */\n    add(rule) {\n        const ignore = this.getIgnore();\n        const newIgnore = new IgnoreMutable();\n\n        newIgnore.add(ignore);\n        newIgnore.add(rule);\n\n        return this.set('ignore', newIgnore);\n    }\n}\n\nmodule.exports = Ignore;\n"]}