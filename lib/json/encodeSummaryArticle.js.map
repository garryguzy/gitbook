{"version":3,"sources":["../../src/json/encodeSummaryArticle.js"],"names":["encodeSummaryArticle","article","urls","recursive","articles","undefined","getArticles","map","innerArticle","toJS","title","getTitle","level","getLevel","depth","getDepth","anchor","getAnchor","url","resolveToURL","getPath","getUrl","path","ref","getRef","module","exports"],"mappings":";;AACA;;;;;;;;AAQA,SAASA,oBAAT,CAA8BC,OAA9B,EAAuCC,IAAvC,EAA6CC,SAA7C,EAAwD;AACpD,QAAIC,WAAWC,SAAf;AACA,QAAIF,cAAc,KAAlB,EAAyB;AACrBC,mBAAWH,QAAQK,WAAR,GACNC,GADM,CACF;AAAA,mBAAgBP,qBAAqBQ,YAArB,EAAmCN,IAAnC,EAAyCC,SAAzC,CAAhB;AAAA,SADE,EAENM,IAFM,EAAX;AAGH;;AAED,WAAO;AACHC,eAAQT,QAAQU,QAAR,EADL;AAEHC,eAAQX,QAAQY,QAAR,EAFL;AAGHC,eAAQb,QAAQc,QAAR,EAHL;AAIHC,gBAAQf,QAAQgB,SAAR,EAJL;AAKHC,aAAQhB,KAAKiB,YAAL,CAAkBlB,QAAQmB,OAAR,MAAqBnB,QAAQoB,MAAR,EAAvC,CALL;AAMHC,cAAQrB,QAAQmB,OAAR,EANL;AAOHG,aAAQtB,QAAQuB,MAAR,EAPL;AAQHpB;AARG,KAAP;AAUH;;AAEDqB,OAAOC,OAAP,GAAiB1B,oBAAjB","file":"encodeSummaryArticle.js","sourcesContent":["\n/**\n * Encode a SummaryArticle to JSON\n *\n * @param  {SummaryArticle} article\n * @param  {URIIndex} urls\n * @param  {Boolean} recursive\n * @return {Object}\n */\nfunction encodeSummaryArticle(article, urls, recursive) {\n    let articles = undefined;\n    if (recursive !== false) {\n        articles = article.getArticles()\n            .map(innerArticle => encodeSummaryArticle(innerArticle, urls, recursive))\n            .toJS();\n    }\n\n    return {\n        title:  article.getTitle(),\n        level:  article.getLevel(),\n        depth:  article.getDepth(),\n        anchor: article.getAnchor(),\n        url:    urls.resolveToURL(article.getPath() || article.getUrl()),\n        path:   article.getPath(),\n        ref:    article.getRef(),\n        articles\n    };\n}\n\nmodule.exports = encodeSummaryArticle;\n"]}