{"version":3,"sources":["../../src/api/encodeConfig.js"],"names":["objectPath","require","deprecate","encodeConfig","output","config","result","values","getValues","toJS","get","key","defaultValue","set","value","field","getGenerator","getRoot","module","exports"],"mappings":";;AAAA,IAAMA,aAAaC,QAAQ,aAAR,CAAnB;AACA,IAAMC,YAAYD,QAAQ,aAAR,CAAlB;;AAEA;;;;;;;AAOA,SAASE,YAAT,CAAsBC,MAAtB,EAA8BC,MAA9B,EAAsC;AAClC,QAAMC,SAAS;AACXC,gBAAQF,OAAOG,SAAP,GAAmBC,IAAnB,EADG;;AAGXC,WAHW,eAGPC,GAHO,EAGFC,YAHE,EAGY;AACnB,mBAAOZ,WAAWU,GAAX,CAAeJ,OAAOC,MAAtB,EAA8BI,GAA9B,EAAmCC,YAAnC,CAAP;AACH,SALU;AAOXC,WAPW,eAOPF,GAPO,EAOFG,KAPE,EAOK;AACZ,mBAAOd,WAAWa,GAAX,CAAeP,OAAOC,MAAtB,EAA8BI,GAA9B,EAAmCG,KAAnC,CAAP;AACH;AATU,KAAf;;AAYAZ,cAAUa,KAAV,CAAgBX,MAAhB,EAAwB,gBAAxB,EAA0CE,MAA1C,EAAkD,SAAlD,EACIA,OAAOC,MADX,EACmB,wEADnB;;AAGAL,cAAUa,KAAV,CAAgBX,MAAhB,EAAwB,0BAAxB,EAAoDE,OAAOC,MAA3D,EAAmE,WAAnE,EACIH,OAAOY,YAAP,EADJ,EAC2B,uEAD3B;;AAGAd,cAAUa,KAAV,CAAgBX,MAAhB,EAAwB,0BAAxB,EAAoDE,OAAOC,MAA3D,EAAmE,QAAnE,EACIH,OAAOa,OAAP,EADJ,EACsB,sEADtB;;AAGA,WAAOX,MAAP;AACH;;AAEDY,OAAOC,OAAP,GAAiBhB,YAAjB","file":"encodeConfig.js","sourcesContent":["const objectPath = require('object-path');\nconst deprecate = require('./deprecate');\n\n/**\n * Encode a config object into a JS config api\n *\n * @param {Output} output\n * @param {Config} config\n * @return {Object}\n */\nfunction encodeConfig(output, config) {\n    const result = {\n        values: config.getValues().toJS(),\n\n        get(key, defaultValue) {\n            return objectPath.get(result.values, key, defaultValue);\n        },\n\n        set(key, value) {\n            return objectPath.set(result.values, key, value);\n        }\n    };\n\n    deprecate.field(output, 'config.options', result, 'options',\n        result.values, '\"config.options\" property is deprecated, use \"config.get(key)\" instead');\n\n    deprecate.field(output, 'config.options.generator', result.values, 'generator',\n        output.getGenerator(), '\"options.generator\" property is deprecated, use \"output.name\" instead');\n\n    deprecate.field(output, 'config.options.generator', result.values, 'output',\n        output.getRoot(), '\"options.output\" property is deprecated, use \"output.root()\" instead');\n\n    return result;\n}\n\nmodule.exports = encodeConfig;\n"]}